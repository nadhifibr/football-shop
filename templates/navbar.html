<header class="sticky top-0 bg-gray-100 px-8 py-4 shadow-md z-50">
  <div class="flex justify-between items-center">
    <!-- Logo -->
    <a href="">
      <p id="title" class="m-0 text-2xl font-myfont">{{ title }}</p>
    </a>

    <!-- Burger Button (mobile only) -->
    <button id="burger" class="sm:hidden text-2xl text-gray-700 focus:outline-none">
      â˜°
    </button>

    <!-- Desktop Menu -->
    <nav id="nav-bar" class="hidden sm:flex gap-6">
      <a class="text-gray-800 hover:text-blue-500" href="#about">About</a>
      <a class="text-gray-800 hover:text-blue-500" href="#product">Product</a>
      <a class="text-gray-800 hover:text-blue-500" href="">{{ name }}</a>
      <button onclick="logoutUser()" 
        class="text-gray-800 hover:text-red-500 font-medium">
        Logout
      </button>
    </nav>
  </div>

  <!-- Mobile Menu (default hidden, vertical) -->
  <div id="mobileMenu" class="hidden sm:hidden flex flex-col gap-4 mt-4 bg-white p-4 rounded-md shadow-md">
    <a class="text-gray-800 hover:text-blue-500" href="#about">About</a>
    <a class="text-gray-800 hover:text-blue-500" href="#product">Product</a>
    <a class="text-gray-800 hover:text-blue-500" href="">{{ name }}</a>
    <button onclick="logoutUser()" 
      class="text-gray-800 hover:text-red-500 font-medium text-left">
      Logout
    </button>
  </div>
</header>

<script>
  const burger = document.getElementById("burger");
  const mobileMenu = document.getElementById("mobileMenu");

  burger.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
  });

  async function logoutUser() {
  try {
    const response = await fetch("{% url 'main:logout_user_ajax' %}", {
      method: "POST",
      headers: { "X-Requested-With": "XMLHttpRequest" }
    });

    if (response.ok) {
      showToast("Logout success!", "Sampai jumpa lagi ðŸ‘‹", "success");
      setTimeout(() => {
        window.location.href = "{% url 'main:login' %}";
      }, 800);
    } else {
      showToast("Logout gagal!", "Silakan coba lagi", "error");
    }
  } catch (err) {
    console.error(err);
    showToast("Terjadi error saat logout", "", "error");
  }

} 
</script>
